{
    "version": "0.10.1",
    "url": [
        "https://github.com/xatupal/KeeTheme/releases/download/v0.10.1/KeeTheme.dll",
        "https://github.com/xatupal/KeeTheme/releases/download/v0.10.1/KeeTheme.plgx"
    ],
    "description": "KeeTheme Plugin changes the appearance of KeePass, to make it look better at night.",
    "hash": [
        "a578becb3d5c522bbfe367678b703bdfe4fe338e7d00d8a93626a8c8693dd7bf",
        "688ec3b7022d0aa51fd99914df4ac930aa36c7899d8af9d4d1eb252ea4ef5935"
    ],
    "checkver": {
        "github": "https://github.com/xatupal/KeeTheme"
    },
    "autoupdate": {
        "url": [
            "https://github.com/xatupal/KeeTheme/releases/download/v$version/KeeTheme.dll",
            "https://github.com/xatupal/KeeTheme/releases/download/v$version/KeeTheme.plgx"
        ],
        "hash": {
            "find": "sha512:\\s+(.*)"
        }
    },
    "depends": "extras/keepass",
    "homepage": "https://github.com/xatupal/KeeTheme",
    "installer": {
        "script": [
            "$eap = $ErrorActionPreference",
            "$ErrorActionPreference = 'SilentlyContinue'",
            "$isRunning = (Get-Process -Name KeePass -ErrorAction SilentlyContinue) -ne $null",
            "if ($isRunning){ Kill-Process $($IsRunning.Name) -Force -Verbose }",
            "Copy-Item \"$dir\\Kee*\" \"$(appdir keepass $global)\\current\\Plugins\\\";",
            "if ($isRunning){Start-Process Keepass -Verbose}",
            "$isRunning = $null",
            "$ErrorActionPreference = $eap"
        ]
    },
    "uninstaller": {
        "script": [
            "$eap = $ErrorActionPreference",
            "$ErrorActionPreference = 'SilentlyContinue'",
            "$isRunning = (Get-Process -Name KeePass -ErrorAction SilentlyContinue) -ne $null",
            "if ($isRunning){ Kill-Process $($IsRunning.Name) -Force -Verbose }",
            "Get-Item \"$dir\\Kee*\" | Foreach-Object { Remove-Item $( $_.FullName -replace [regex]::Escape($dir), \"$(appdir keepass $global)\\current\\Plugins\" ) -Force -Verbose }; ",
            "if ($isRunning){Start-Process Keepass -Verbose}",
            "$isRunning = $null",
            "$ErrorActionPreference = $eap"
        ]
    }
}
